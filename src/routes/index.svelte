<script context="module">
	
</script>

<script>
	let posts;
	let events = [];

	let name;
	let url;
	let details;
	let user;
	let tags = [];
	let isShowing;

	async function addPost() {
		alert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Åüê±‚Äçüèç')
		try {
			const post = {
				name,
				url,
				details,
				selected
			};
			await fetch('/posts', {
				method: 'POST',
				body: JSON.stringify(post)
			});
		} catch (error) {
			alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏îü§¶‚Äç‚ôÇÔ∏èü§¶‚Äç‚ôÇÔ∏è');
		}
	}
</script>

<svelte:head>
	<title>Welcome</title>
</svelte:head>

<!-- src/routes/index.svelte -->

<ion-button on:click={() => (isShowing = !isShowing)}>
	{isShowing ? '-' : '+'}
</ion-button>

{#if isShowing}
	<addPost>
		<ion-card>
			<ion-card-header>
				<ion-card-title><h1>{name || '‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡πá‡∏ö'}</h1></ion-card-title>
				<ion-card-subtitle>{details || '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•'}</ion-card-subtitle>
			</ion-card-header>

			<ion-card-content>
				<input type="text" bind:value={name} placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡πá‡∏ö" />
				<input type="text" bind:value={url} placeholder="‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏ß‡πá‡∏ö" />
				<input type="text" bind:value={details} placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢" />

				<ion-item>
					<ion-label>Tag</ion-label>
					<ion-select value={tags} multiple="true" placeholder="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°">
						<ion-select-option value="1">‡πÄ‡∏ß‡πá‡∏ö</ion-select-option>
						<ion-select-option value="2">‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠</ion-select-option>
						<ion-select-option value="3">‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</ion-select-option>
					</ion-select>
				</ion-item>
				<ion-button on:click={addPost} disabled={!name || !url || !details}>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</ion-button>
			</ion-card-content>
		</ion-card>
	</addPost>
{/if}

<style>
	ion-card-content {
		display: grid;
		justify-self: center;
	}
</style>
