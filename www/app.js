import {respond} from "@sveltejs/kit/ssr";
import {create_ssr_component, validate_component, missing_component, escape, each} from "svelte/internal";
import {setContext, afterUpdate, onMount} from "svelte";
import {config} from "dotenv";
import mongodb from "mongodb";
var root_svelte_svelte_type_style_lang = "#svelte-announcer.svelte-1j55zn5{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}";
const css$2 = {
  code: "#svelte-announcer.svelte-1j55zn5{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}",
  map: `{"version":3,"file":"root.svelte","sources":["root.svelte"],"sourcesContent":["<!-- This file is generated by @sveltejs/kit \u2014 do not edit it! -->\\n<script>\\n\\timport { setContext, afterUpdate, onMount } from 'svelte';\\n\\n\\t// stores\\n\\texport let stores;\\n\\texport let page;\\n\\n\\texport let components;\\n\\texport let props_0 = null;\\n\\texport let props_1 = null;\\n\\texport let props_2 = null;\\n\\texport let props_3 = null;\\n\\n\\tsetContext('__svelte__', stores);\\n\\n\\t$: stores.page.set(page);\\n\\tafterUpdate(stores.page.notify);\\n\\n\\tlet mounted = false;\\n\\tlet navigated = false;\\n\\tlet title = null;\\n\\n\\tonMount(() => {\\n\\t\\tconst unsubscribe = stores.page.subscribe(() => {\\n\\t\\t\\tif (mounted) {\\n\\t\\t\\t\\tnavigated = true;\\n\\t\\t\\t\\ttitle = document.title || 'untitled page';\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tmounted = true;\\n\\t\\treturn unsubscribe;\\n\\t});\\n</script>\\n\\n<svelte:component this={components[0]} {...(props_0 || {})}>\\n\\t{#if components[1]}\\n\\t\\t<svelte:component this={components[1]} {...(props_1 || {})}>\\n\\t\\t\\t{#if components[2]}\\n\\t\\t\\t\\t<svelte:component this={components[2]} {...(props_2 || {})}>\\n\\t\\t\\t\\t\\t{#if components[3]}\\n\\t\\t\\t\\t\\t\\t<svelte:component this={components[3]} {...(props_3 || {})}/>\\n\\t\\t\\t\\t\\t{/if}\\n\\t\\t\\t\\t</svelte:component>\\n\\t\\t\\t{/if}\\n\\t\\t</svelte:component>\\n\\t{/if}\\n</svelte:component>\\n\\n{#if mounted}\\n\\t<div id=\\"svelte-announcer\\" aria-live=\\"assertive\\" aria-atomic=\\"true\\">\\n\\t\\t{#if navigated}\\n\\t\\t\\tNavigated to {title}\\n\\t\\t{/if}\\n\\t</div>\\n{/if}\\n\\n<style>\\n\\t#svelte-announcer {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\ttop: 0;\\n\\t\\tclip: rect(0 0 0 0);\\n\\t\\tclip-path: inset(50%);\\n\\t\\toverflow: hidden;\\n\\t\\twhite-space: nowrap;\\n\\t\\twidth: 1px;\\n\\t\\theight: 1px;\\n\\t}\\n</style>"],"names":[],"mappings":"AA2DC,iBAAiB,eAAC,CAAC,AAClB,QAAQ,CAAE,QAAQ,CAClB,IAAI,CAAE,CAAC,CACP,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACnB,SAAS,CAAE,MAAM,GAAG,CAAC,CACrB,QAAQ,CAAE,MAAM,CAChB,WAAW,CAAE,MAAM,CACnB,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,GAAG,AACZ,CAAC"}`
};
const Root = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let {stores} = $$props;
  let {page} = $$props;
  let {components} = $$props;
  let {props_0 = null} = $$props;
  let {props_1 = null} = $$props;
  let {props_2 = null} = $$props;
  let {props_3 = null} = $$props;
  setContext("__svelte__", stores);
  afterUpdate(stores.page.notify);
  let mounted = false;
  let navigated = false;
  let title = null;
  onMount(() => {
    const unsubscribe = stores.page.subscribe(() => {
      if (mounted) {
        navigated = true;
        title = document.title || "untitled page";
      }
    });
    mounted = true;
    return unsubscribe;
  });
  if ($$props.stores === void 0 && $$bindings.stores && stores !== void 0)
    $$bindings.stores(stores);
  if ($$props.page === void 0 && $$bindings.page && page !== void 0)
    $$bindings.page(page);
  if ($$props.components === void 0 && $$bindings.components && components !== void 0)
    $$bindings.components(components);
  if ($$props.props_0 === void 0 && $$bindings.props_0 && props_0 !== void 0)
    $$bindings.props_0(props_0);
  if ($$props.props_1 === void 0 && $$bindings.props_1 && props_1 !== void 0)
    $$bindings.props_1(props_1);
  if ($$props.props_2 === void 0 && $$bindings.props_2 && props_2 !== void 0)
    $$bindings.props_2(props_2);
  if ($$props.props_3 === void 0 && $$bindings.props_3 && props_3 !== void 0)
    $$bindings.props_3(props_3);
  $$result.css.add(css$2);
  {
    stores.page.set(page);
  }
  return `


${validate_component(components[0] || missing_component, "svelte:component").$$render($$result, Object.assign(props_0 || {}), {}, {
    default: () => `${components[1] ? `${validate_component(components[1] || missing_component, "svelte:component").$$render($$result, Object.assign(props_1 || {}), {}, {
      default: () => `${components[2] ? `${validate_component(components[2] || missing_component, "svelte:component").$$render($$result, Object.assign(props_2 || {}), {}, {
        default: () => `${components[3] ? `${validate_component(components[3] || missing_component, "svelte:component").$$render($$result, Object.assign(props_3 || {}), {}, {})}` : ``}`
      })}` : ``}`
    })}` : ``}`
  })}

${mounted ? `<div id="${"svelte-announcer"}" aria-live="${"assertive"}" aria-atomic="${"true"}" class="${"svelte-1j55zn5"}">${navigated ? `Navigated to ${escape(title)}` : ``}</div>` : ``}`;
});
function set_paths(paths) {
}
function set_prerendering(value) {
}
var user_hooks = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module"
});
const template = ({head, body}) => '<!DOCTYPE html>\n<html lang="en">\n	<head>\n		<meta charset="utf-8" />\n		<link rel="icon" href="asset/favicon.ico" />\n		<meta name="viewport" content="width=device-width, initial-scale=1" />\n		<script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>\n		<script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>\n		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"/>\n		' + head + '\n	</head>\n	<body>\n		\n		<div id="svelte">' + body + "</div>\n	</body>\n</html>\n";
let options = null;
function init(settings) {
  set_paths(settings.paths);
  set_prerendering(settings.prerendering || false);
  options = {
    amp: false,
    dev: false,
    entry: {
      file: "/./_app/start-6ea9ec91.js",
      css: ["/./_app/assets/start-a8cd1609.css"],
      js: ["/./_app/start-6ea9ec91.js", "/./_app/chunks/vendor-c8351373.js"]
    },
    fetched: void 0,
    floc: false,
    get_component_path: (id) => "/./_app/" + entry_lookup[id],
    get_stack: (error2) => String(error2),
    handle_error: (error2) => {
      console.error(error2.stack);
      error2.stack = options.get_stack(error2);
    },
    hooks: get_hooks(user_hooks),
    hydrate: true,
    initiator: void 0,
    load_component,
    manifest,
    paths: settings.paths,
    read: settings.read,
    root: Root,
    router: true,
    ssr: true,
    target: "#svelte",
    template
  };
}
const d = decodeURIComponent;
const empty = () => ({});
const manifest = {
  assets: [],
  layout: "src/routes/$layout.svelte",
  error: ".svelte/build/components/error.svelte",
  routes: [
    {
      type: "page",
      pattern: /^\/$/,
      params: empty,
      a: ["src/routes/$layout.svelte", "src/routes/index.svelte"],
      b: [".svelte/build/components/error.svelte"]
    },
    {
      type: "page",
      pattern: /^\/about\/?$/,
      params: empty,
      a: ["src/routes/$layout.svelte", "src/routes/about.svelte"],
      b: [".svelte/build/components/error.svelte"]
    },
    {
      type: "page",
      pattern: /^\/blogs\/?$/,
      params: empty,
      a: ["src/routes/$layout.svelte", "src/routes/blogs/$layout.svelte", "src/routes/blogs/index.svelte"],
      b: [".svelte/build/components/error.svelte"]
    },
    {
      type: "endpoint",
      pattern: /^\/blogs\/([^/]+?)\/?$/,
      params: (m) => ({slug: d(m[1])}),
      load: () => Promise.resolve().then(function() {
        return _slug_;
      })
    },
    {
      type: "endpoint",
      pattern: /^\/posts\/?$/,
      params: empty,
      load: () => Promise.resolve().then(function() {
        return index$3;
      })
    },
    {
      type: "page",
      pattern: /^\/posts\/?$/,
      params: empty,
      a: ["src/routes/$layout.svelte", "src/routes/posts/index.svelte"],
      b: [".svelte/build/components/error.svelte"]
    }
  ]
};
const get_hooks = (hooks) => ({
  getContext: hooks.getContext || (() => ({})),
  getSession: hooks.getSession || (() => ({})),
  handle: hooks.handle || (({request, render: render2}) => render2(request))
});
const module_lookup = {
  "src/routes/$layout.svelte": () => Promise.resolve().then(function() {
    return $layout$3;
  }),
  ".svelte/build/components/error.svelte": () => Promise.resolve().then(function() {
    return error;
  }),
  "src/routes/index.svelte": () => Promise.resolve().then(function() {
    return index$2;
  }),
  "src/routes/about.svelte": () => Promise.resolve().then(function() {
    return about;
  }),
  "src/routes/blogs/$layout.svelte": () => Promise.resolve().then(function() {
    return $layout$1;
  }),
  "src/routes/blogs/index.svelte": () => Promise.resolve().then(function() {
    return index$1;
  }),
  "src/routes/posts/index.svelte": () => Promise.resolve().then(function() {
    return index;
  })
};
const metadata_lookup = {"src/routes/$layout.svelte": {entry: "/./_app/pages/$layout.svelte-12dfc066.js", css: ["/./_app/assets/pages/$layout.svelte-764858de.css"], js: ["/./_app/pages/$layout.svelte-12dfc066.js", "/./_app/chunks/vendor-c8351373.js"], styles: null}, ".svelte/build/components/error.svelte": {entry: "/./_app/error.svelte-68db6d5e.js", css: [], js: ["/./_app/error.svelte-68db6d5e.js", "/./_app/chunks/vendor-c8351373.js"], styles: null}, "src/routes/index.svelte": {entry: "/./_app/pages/index.svelte-90355097.js", css: ["/./_app/assets/pages/index.svelte-1800c74a.css"], js: ["/./_app/pages/index.svelte-90355097.js", "/./_app/chunks/vendor-c8351373.js"], styles: null}, "src/routes/about.svelte": {entry: "/./_app/pages/about.svelte-da69d01b.js", css: [], js: ["/./_app/pages/about.svelte-da69d01b.js", "/./_app/chunks/vendor-c8351373.js"], styles: null}, "src/routes/blogs/$layout.svelte": {entry: "/./_app/pages/blogs/$layout.svelte-c4fbc962.js", css: [], js: ["/./_app/pages/blogs/$layout.svelte-c4fbc962.js", "/./_app/chunks/vendor-c8351373.js"], styles: null}, "src/routes/blogs/index.svelte": {entry: "/./_app/pages/blogs/index.svelte-ba368ceb.js", css: [], js: ["/./_app/pages/blogs/index.svelte-ba368ceb.js", "/./_app/chunks/vendor-c8351373.js"], styles: null}, "src/routes/posts/index.svelte": {entry: "/./_app/pages/posts/index.svelte-19279805.js", css: [], js: ["/./_app/pages/posts/index.svelte-19279805.js", "/./_app/chunks/vendor-c8351373.js"], styles: null}};
async function load_component(file) {
  return {
    module: await module_lookup[file](),
    ...metadata_lookup[file]
  };
}
init({paths: {base: "", assets: "/."}});
function render(request, {
  prerender
} = {}) {
  const host = request.headers["host"];
  return respond({...request, host}, options, {prerender});
}
const {MongoClient} = mongodb;
config().dotenv;
const {MONGODB_URI, MONGODB_DB} = process.env;
if (!MONGODB_URI) {
  throw new Error("Please define the MONGODB_URI environment variable inside .env.local");
}
if (!MONGODB_DB) {
  throw new Error("Please define the MONGODB_DB environment variable inside .env.local");
}
let cached = global.mongo;
if (!cached) {
  cached = global.mongo = {conn: null, promise: null};
}
async function connectToDatabase() {
  if (cached.conn) {
    return cached.conn;
  }
  if (!cached.promise) {
    const opts = {
      useNewUrlParser: true,
      useUnifiedTopology: true
    };
    cached.promise = MongoClient.connect(MONGODB_URI, opts).then((client) => {
      return {
        client,
        db: client.db(MONGODB_DB)
      };
    });
  }
  cached.conn = await cached.promise;
  return cached.conn;
}
async function get$1({params}) {
  const dbConnection = await connectToDatabase();
  const db = dbConnection.db;
  const collection = db.collection("posts");
  const {slug} = params;
  const article = await collection.find({slug}).toArray();
  if (article) {
    return {
      body: {
        article
      }
    };
  }
}
var _slug_ = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  get: get$1
});
async function get(request) {
  try {
    const dbConnection = await connectToDatabase();
    const db = dbConnection.db;
    const collection = db.collection("posts");
    const posts = await collection.find({}).toArray();
    return {
      status: 200,
      body: {
        posts
      }
    };
  } catch (error2) {
    return {
      status: 500,
      body: {
        error: "A server error occured"
      }
    };
  }
}
async function post(request) {
  try {
    const dbConnection = await connectToDatabase();
    const db = dbConnection.db;
    const collection = db.collection("posts");
    const post2 = JSON.parse(request.body);
    await collection.insertOne(post2);
    return {
      status: 200,
      body: {
        status: "\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E2A\u0E33\u0E40\u0E23\u0E47\u0E08\u0E08\u0E08\u0E08\u0E08\u0E08\u0E08\u0E49\u0E32\u0E32\u0E32\u0E32\u{1F923}\u{1F923}"
      }
    };
  } catch (error2) {
    return {
      status: 500,
      body: {
        error: "A server error occured"
      }
    };
  }
}
var index$3 = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  get,
  post
});
var sidemenu_svelte_svelte_type_style_lang = "nav.svelte-1gzanzh{margin-top:5px;margin-left:5px;display:grid;gap:5px}";
const css$1 = {
  code: "nav.svelte-1gzanzh{margin-top:5px;margin-left:5px;display:grid;gap:5px}",
  map: '{"version":3,"file":"sidemenu.svelte","sources":["sidemenu.svelte"],"sourcesContent":["<ion-header>\\r\\n\\t<ion-toolbar>\\r\\n\\t\\t<ion-title>SideMenu</ion-title>\\r\\n\\t</ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n\\t<nav>\\r\\n\\t\\t<a href=\\".\\">Home</a>\\r\\n\\t\\t<a href=\\"blogs\\">Blogs</a>\\r\\n\\t\\t<a href=\\"posts\\">Post</a>\\r\\n\\t\\t<a sveltekit:prefetch href=\\"/blogs/\\">blog</a>\\r\\n        \\r\\n\\t</nav>\\r\\n</ion-content>\\r\\n\\r\\n<style>\\r\\n\\r\\n    nav{\\r\\n        margin-top: 5px;\\r\\n        margin-left: 5px;\\r\\n        display: grid;\\r\\n        gap: 5px;\\r\\n    }\\r\\n</style>\\r\\n"],"names":[],"mappings":"AAiBI,kBAAG,CAAC,AACA,UAAU,CAAE,GAAG,CACf,WAAW,CAAE,GAAG,CAChB,OAAO,CAAE,IAAI,CACb,GAAG,CAAE,GAAG,AACZ,CAAC"}'
};
const Sidemenu = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  $$result.css.add(css$1);
  return `<ion-header><ion-toolbar><ion-title>SideMenu</ion-title></ion-toolbar></ion-header>
<ion-content><nav class="${"svelte-1gzanzh"}"><a href="${"."}">Home</a>
		<a href="${"blogs"}">Blogs</a>
		<a href="${"posts"}">Post</a>
		<a sveltekit:prefetch href="${"/blogs/"}">blog</a></nav>
</ion-content>`;
});
const $layout$2 = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `<body><ion-split-pane content-id="${"main"}" when="${"lg"}"><ion-menu content-id="${"main"}" side="${"start"}" type="${"overlay"}">${validate_component(Sidemenu, "Sidemenu").$$render($$result, {}, {}, {})}</ion-menu>
		 <div class="${"ion-page"}" id="${"main"}"><ion-header><ion-toolbar><ion-title>Pea</ion-title></ion-toolbar></ion-header>
    <ion-content class="${"ion-no-padding"}">${slots.default ? slots.default({}) : ``}</ion-content></div></ion-split-pane></body>`;
});
var $layout$3 = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  default: $layout$2
});
function load$2({error: error2, status}) {
  return {props: {error: error2, status}};
}
const Error$1 = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let {status} = $$props;
  let {error: error2} = $$props;
  if ($$props.status === void 0 && $$bindings.status && status !== void 0)
    $$bindings.status(status);
  if ($$props.error === void 0 && $$bindings.error && error2 !== void 0)
    $$bindings.error(error2);
  return `<h1>${escape(status)}</h1>

<p>${escape(error2.message)}</p>


${error2.stack ? `<pre>${escape(error2.stack)}</pre>` : ``}`;
});
var error = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  default: Error$1,
  load: load$2
});
var index_svelte_svelte_type_style_lang = "ion-card-content.svelte-q7gk5c{display:grid;justify-self:center}";
const css = {
  code: "ion-card-content.svelte-q7gk5c{display:grid;justify-self:center}",
  map: `{"version":3,"file":"index.svelte","sources":["index.svelte"],"sourcesContent":["<script context=\\"module\\">\\n\\t\\n</script>\\n\\n<script>\\n\\tlet posts;\\n\\tlet events = [];\\n\\n\\tlet name;\\n\\tlet url;\\n\\tlet details;\\n\\tlet user;\\n\\tlet tags = [];\\n\\tlet isShowing;\\n\\n\\tasync function addPost() {\\n\\t\\talert('\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u{1F431}\u200D\u{1F3CD}')\\n\\t\\ttry {\\n\\t\\t\\tconst post = {\\n\\t\\t\\t\\tname,\\n\\t\\t\\t\\turl,\\n\\t\\t\\t\\tdetails,\\n\\t\\t\\t\\tselected\\n\\t\\t\\t};\\n\\t\\t\\tawait fetch('/posts', {\\n\\t\\t\\t\\tmethod: 'POST',\\n\\t\\t\\t\\tbody: JSON.stringify(post)\\n\\t\\t\\t});\\n\\t\\t} catch (error) {\\n\\t\\t\\talert('\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u{1F926}\u200D\u2642\uFE0F\u{1F926}\u200D\u2642\uFE0F');\\n\\t\\t}\\n\\t}\\n</script>\\n\\n<svelte:head>\\n\\t<title>Welcome</title>\\n</svelte:head>\\n\\n<!-- src/routes/index.svelte -->\\n\\n<ion-button on:click={() => (isShowing = !isShowing)}>\\n\\t{isShowing ? '-' : '+'}\\n</ion-button>\\n\\n{#if isShowing}\\n\\t<addPost>\\n\\t\\t<ion-card>\\n\\t\\t\\t<ion-card-header>\\n\\t\\t\\t\\t<ion-card-title><h1>{name || '\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E0A\u0E37\u0E48\u0E2D\u0E40\u0E27\u0E47\u0E1A'}</h1></ion-card-title>\\n\\t\\t\\t\\t<ion-card-subtitle>{details || '\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25'}</ion-card-subtitle>\\n\\t\\t\\t</ion-card-header>\\n\\n\\t\\t\\t<ion-card-content>\\n\\t\\t\\t\\t<input type=\\"text\\" bind:value={name} placeholder=\\"\u0E0A\u0E37\u0E48\u0E2D\u0E40\u0E27\u0E47\u0E1A\\" />\\n\\t\\t\\t\\t<input type=\\"text\\" bind:value={url} placeholder=\\"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E40\u0E27\u0E47\u0E1A\\" />\\n\\t\\t\\t\\t<input type=\\"text\\" bind:value={details} placeholder=\\"\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22\\" />\\n\\n\\t\\t\\t\\t<ion-item>\\n\\t\\t\\t\\t\\t<ion-label>Tag</ion-label>\\n\\t\\t\\t\\t\\t<ion-select value={tags} multiple=\\"true\\" placeholder=\\"\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E01\u0E25\u0E38\u0E48\u0E21\\">\\n\\t\\t\\t\\t\\t\\t<ion-select-option value=\\"1\\">\u0E40\u0E27\u0E47\u0E1A</ion-select-option>\\n\\t\\t\\t\\t\\t\\t<ion-select-option value=\\"2\\">\u0E04\u0E39\u0E48\u0E21\u0E37\u0E2D</ion-select-option>\\n\\t\\t\\t\\t\\t\\t<ion-select-option value=\\"3\\">\u0E41\u0E2B\u0E25\u0E48\u0E07\u0E40\u0E23\u0E35\u0E22\u0E19\u0E23\u0E39\u0E49</ion-select-option>\\n\\t\\t\\t\\t\\t</ion-select>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t<ion-button on:click={addPost} disabled={!name || !url || !details}>\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01</ion-button>\\n\\t\\t\\t</ion-card-content>\\n\\t\\t</ion-card>\\n\\t</addPost>\\n{/if}\\n\\n<style>\\n\\tion-card-content {\\n\\t\\tdisplay: grid;\\n\\t\\tjustify-self: center;\\n\\t}\\n</style>\\n"],"names":[],"mappings":"AAwEC,gBAAgB,cAAC,CAAC,AACjB,OAAO,CAAE,IAAI,CACb,YAAY,CAAE,MAAM,AACrB,CAAC"}`
};
const Routes = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  $$result.css.add(css);
  return `${$$result.head += `${$$result.title = `<title>Welcome</title>`, ""}`, ""}



<ion-button>${escape("+")}</ion-button>

${``}`;
});
var index$2 = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  default: Routes
});
const About = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `
${$$result.head += `${$$result.title = `<title>About</title>`, ""}`, ""}

<h1>About this site</h1>
<p>TODO...</p>`;
});
var about = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  default: About
});
const $layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `
<h1>blogs</h1>

<div class="${"submenu"}"><a href="${"/blogs/profile"}">Profile</a>
	<a href="${"/blogs/notifications"}">Notifications</a></div>

${slots.default ? slots.default({}) : ``}`;
});
var $layout$1 = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  default: $layout
});
async function load$1({page, fetch, session, context}) {
  const url = `/blog/${page.params.slug}.json`;
  const res = await fetch(url);
  if (res.ok) {
    return {props: {article: await res.json()}};
  }
  return {
    status: res.status,
    error: new Error(`Could not load ${url}`)
  };
}
const Blogs = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let {article} = $$props;
  console.log(article);
  if ($$props.article === void 0 && $$bindings.article && article !== void 0)
    $$bindings.article(article);
  return `
${article.length == void 0 ? `No Blogs` : ``}




${slots.default ? slots.default({}) : ``}`;
});
var index$1 = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  default: Blogs,
  load: load$1
});
async function load({fetch}) {
  const res = await fetch("/posts/*");
  console.log();
  const jsonRes = await res.json();
  return {props: {posts: jsonRes.posts}};
}
const Posts = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let {posts} = $$props;
  console.log(posts);
  if ($$props.posts === void 0 && $$bindings.posts && posts !== void 0)
    $$bindings.posts(posts);
  return `${each(posts, (post2) => `
     <ion-card><ion-card-header><ion-card-title>${escape(post2.Name)}</ion-card-title>
             <ion-card-subtitle>${escape(post2.url)}</ion-card-subtitle></ion-card-header>
         <ion-card-content>${escape(JSON.stringify(post2.details))}</ion-card-content>
     </ion-card>`)}




`;
});
var index = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  default: Posts,
  load
});
export {init, render};
